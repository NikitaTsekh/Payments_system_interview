# Payments_system_interview
Payments system Django Interview
üß™ –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Äî Backend Django Developer

üìå –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—Ç backend-–ª–æ–≥–∏–∫—É, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏, —É–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏ –º—ã—Å–ª–∏—Ç –∫–∞–∫ –∏–Ω–∂–µ–Ω–µ—Ä.

üì¶ –ó–∞–¥–∞—á–∞: –∏–º–∏—Ç–∞—Ü–∏—è webhook –æ—Ç –±–∞–Ω–∫–∞

–ù–∞–ø–∏—Å–∞—Ç—å backend-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:

–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ webhook-–∏ –æ—Ç –±–∞–Ω–∫–∞

–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

—É—Å—Ç–æ–π—á–∏–≤ –∫ –≥–æ–Ω–∫–∞–º –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º

—É–º–µ–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤ —Ñ–æ–Ω–µ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

Python 3.10+

Django 4+

Django Rest Framework

PostgreSQL (–∏–ª–∏ SQLite)

Celery (–ø–æ –∂–µ–ª–∞–Ω–∏—é, –µ—Å–ª–∏ –¥–µ–ª–∞–µ—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É)

üì• POST /api/webhook/bank/

Webhook –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π JSON:

{
  "operation_id": "ccf0a86d-041b-4991-bcf7-e2352f7b8a4a",
  "amount": 145000,
  "payer_inn": "1234567890",
  "document_number": "PAY-328",
  "document_date": "2024-04-27T21:00:00Z"
}

–ü–æ–≤–µ–¥–µ–Ω–∏–µ:

–µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —É–∂–µ –±—ã–ª–∞ (–ø–æ operation_id) ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK

–µ—Å–ª–∏ –Ω–µ –±—ã–ª–∞:

—Å–æ–∑–¥–∞—ë—Ç Payment

–Ω–∞—á–∏—Å–ª—è–µ—Ç —Å—É–º–º—É –Ω–∞ –±–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å payer_inn

–ª–æ–≥–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (–º–æ–∂–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ print/log)

‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏—à–ª–æ 2 –∑–∞–ø—Ä–æ—Å–∞ —Å –æ–¥–Ω–∏–º operation_id.

üßæ GET /api/organizations/<inn>/balance/

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –ò–ù–ù.

{
  "inn": "1234567890",
  "balance": 145000
}

üß™ Seed (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

–°–æ–∑–¥–∞—Ç—å 5 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –ò–ù–ù –∏ –Ω—É–ª–µ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º.

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Faker.

üßµ Celery (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ Celery:

–æ—Ç–ø—Ä–∞–≤–∫—É webhook-–∞ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ —Ñ–æ–Ω–µ

–±–∞–ª–∞–Ω—Å –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –≤ –∑–∞–¥–∞—á–µ

API —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK

üîç –ß—Ç–æ –º—ã —Å–º–æ—Ç—Ä–∏–º:

–∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ (views/services/models)

–∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π (get_or_create / unique constraint / select_for_update)

–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (transaction.atomic())

–Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥—É–º–∞–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –≥–æ–Ω–∫–µ (2 –∑–∞–ø—Ä–æ—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

—á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –≤–Ω—è—Ç–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è

–∂–µ–ª–∞–Ω–∏–µ –¥—É–º–∞—Ç—å, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ ‚Äú—Å–¥–µ–ª–∞—Ç—å —Ñ–æ—Ä–º–æ—á–∫—É‚Äù

üöÄ –ö–∞–∫ —Å–¥–∞–≤–∞—Ç—å

GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README:

–∫–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å

–∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–¥—ã

–∫–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

–ë–µ–∑ .env (–º–æ–∂–Ω–æ .env.example)

üß† –£—Ä–æ–≤–µ–Ω—å –∑–∞–¥–∞–Ω–∏—è

–≠—Ç–æ –Ω–µ ‚Äú–∫—É—Ä—Å–æ–≤—ã–π –±–ª–æ–≥‚Äù –∏ –Ω–µ —Ñ–æ—Ä–º–æ—á–∫–∞. –≠—Ç–æ –∏–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–µ–π—Å–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –º—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è –≤ –ø—Ä–æ–¥–µ. –ï—Å–ª–∏ –≤—ã –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∫–∞–∫ –æ–Ω–∏ –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏, –∏ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è ‚Äî –≤–∞–º –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ.

–£–¥–∞—á–∏ –∏ welcome! üíª
